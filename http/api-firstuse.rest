### üö®üö® PRIMER USO: REGISTRO DE USUARIOS (SOLO ADMIN) üö®üö®

### Login admin (obtener token JWT)
# @name login_admin
POST http://localhost:3001/api/auth/login
Content-Type: application/json

{
  "email": "admin@mail.com",
  "password": "123456"
}


###
@token_admin = {{login_admin.response.body.token}}

###‚ÄºÔ∏è **IMPORTANTE:** SOLO EL USUARIO CON ROL `ADMIN` PUEDE CREAR NUEVOS USUARIOS ‚ÄºÔ∏è
###   POST /api/auth/register
###   Authorization: Bearer <token_admin>
###   Content-Type: application/json
###   {
###     "email": "nuevo@mail.com",
###     "password": "123456",
###     "role": "doctor|secretary|patient",
###     "entity_id": 200001
###   }
###   - üö´ Si el usuario autenticado NO es admin, recibir√° un error 403.
###   - ‚ÑπÔ∏è El campo `entity_id` debe referenciar el id correspondiente (doctor_id, secretary_id, patient_id) seg√∫n el rol.
###   - üîë El admin inicial se define en la base de datos con contrase√±a conocida (ver secci√≥n SQL de ejemplo).
###   ---

### ‚úÖ Registrar usuario doctor (solo admin)
POST http://localhost:3001/api/auth/register
Authorization: Bearer {{token_admin}}
Content-Type: application/json

{
  "email": "nuevo.doctor@mail.com",
  "password": "123456",
  "role": "doctor",
  "entity_id": 200001
}

### ‚úÖ Registrar usuario secretaria (solo admin)
POST http://localhost:3001/api/auth/register
Authorization: Bearer {{token_admin}}
Content-Type: application/json

{
  "email": "secretaria@mail.com",
  "password": "123456",
  "role": "secretary",
  "entity_id": 300001
}

### Login doctor (obtener token JWT)
# @name login_doctor
POST http://localhost:3001/api/auth/login
Content-Type: application/json

{
  "email": "nuevo.doctor@mail.com",
  "password": "123456"
}
###
@token_doctor = {{login_doctor.response.body.token}}

### Login secretaria (obtener token JWT)
# @name login_secretary
POST http://localhost:3001/api/auth/login
Content-Type: application/json

{
  "email": "secretaria@mail.com",
  "password": "123456"
}
###
@token_secretary = {{login_secretary.response.body.token}}

### ‚ùå Error: crear usuario con token de doctor
POST http://localhost:3001/api/auth/register
Authorization: Bearer {{token_doctor}}
Content-Type: application/json

{
  "email": "otro@mail.com",
  "password": "123456",
  "role": "secretary",
  "entity_id": 300001
}

### ‚ùå Error: crear usuario con token de secretaria
POST http://localhost:3001/api/auth/register
Authorization: Bearer {{token_secretary}}
Content-Type: application/json

{
  "email": "otro2@mail.com",
  "password": "123456",
  "role": "doctor",
  "entity_id": 200002
} 